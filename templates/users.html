<!-- users.html - mockup page for viewing users
# Copyright (c) 2020 Andrew Gavgavian, Samuel Schmidt, and Isaac
# Trimble-Pederson, All Rights Reserved-->

[[extend 'layout.html']]
<div class="section" id="vue-users">
   <div class="container">
      <div class="columns">
         <div class="column is-4">
            <p class="title">Team Members</p>
         </div>
         <div class="column">
            <div class="field is-pulled-right">
              <div class="control has-icons-left">
                <span class="icon is-medium">
                  <i class="fa fa-search"></i>
                </span>
                <input class="input" type="text" placeholder="Search Users" @input="filter_list" v-model="searchText">
              </div>
            </div>
        </div>
      </div>
     <div class="columns is-multiline">
         <!-- Member Selection Panel -->

         <div class="column is-4" v-for="user in users" >
            <!-- User Selection loop -->
            <article @click="show_user(user._idx)" class="level notification"
               :class="(current_user._idx === user._idx ? ' has-background-grey-light' : 'has-background-grey-lighter')" >
               <div class="level-item level-left">
                  <div class="level-item">
                     <img v-bind:src="user.url" width="80">
                  </div>
                  <div class="level-item">
                     <p class= "subtitle is-5">{{user.full_name}}</p>
                  </div>
               </div>
            </article>
         </div>
       </div>

   </div>
</div>

[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let get_users_url = "[[=XML(get_users_url)]]";
  let show_user_url = "[[=XML(get_users_url)]]";
  let get_icon_url = "[[=XML(get_icons_url)]]";
  let edit_user_url = "[[=XML(edit_user_url)]]";
  // Complete with other URLs you need.
  let user_email = "[[=XML(user_email)]]";
  let username = "[[=XML(username)]]";
</script>
<script src="js/vue-select.min.js"></script>
<script src="js/users.js"></script>
[[end]]
